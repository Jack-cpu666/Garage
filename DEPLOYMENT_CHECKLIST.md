# ðŸ“‹ Deployment Checklist for Render.com

## Pre-Deployment

- [ ] Review all files in `render.com/` folder
- [ ] Update `.env.example` with your actual credentials (for testing)
- [ ] Test locally if desired (`python app.py`)
- [ ] Choose a strong `DASHBOARD_PASSWORD`

## GitHub Setup

- [ ] Create new GitHub repository
- [ ] Initialize Git in `render.com/` folder
- [ ] Add all files: `git add .`
- [ ] Commit: `git commit -m "Initial deployment"`
- [ ] Push to GitHub: `git push -u origin main`

## Render.com Setup

- [ ] Sign up/login at https://dashboard.render.com
- [ ] Click "New" â†’ "Blueprint"
- [ ] Connect your GitHub account
- [ ] Select your repository
- [ ] Render detects `render.yaml` automatically
- [ ] Click "Apply"

## Environment Variables

Set these in Render dashboard (Environment tab):

- [ ] `DASHBOARD_PASSWORD` = (your secure password)
- [ ] `METROPOLIS_EMAIL` = security@555capitolmall.com
- [ ] `METROPOLIS_PASSWORD` = 555_Security
- [ ] `AUTH_KEY` = (leave empty for now)
- [ ] `SECRET_KEY` = (auto-generated by Render)

## Build & Deploy

- [ ] Watch build logs for Chrome installation
- [ ] Wait for "Starting gunicorn..." message
- [ ] Verify service status shows "Live"
- [ ] Note your app URL: `https://your-app-name.onrender.com`

## First-Time Setup

- [ ] Open your app URL in browser
- [ ] Login with `DASHBOARD_PASSWORD`
- [ ] Go to "Token Mgmt" tab
- [ ] Click "Test Token Refresh" to get initial token
- [ ] Click "Start Auto-Monitor" for automatic refresh
- [ ] Go to "Members" tab
- [ ] Add test member license plate
- [ ] Go to "Auto-Monitor" tab
- [ ] Click "Start Monitoring"

## Testing

- [ ] Test manual gate opening ("Gate Controls" tab)
- [ ] Verify token shows as valid
- [ ] Add a member plate
- [ ] Remove a member plate
- [ ] Add a blacklist plate
- [ ] Check "Recent Visits" loads data
- [ ] Check "Occupancy" loads data
- [ ] Test emergency "Open All Gates" (if safe to do so)

## Optional: Keep App Awake

If using free tier:

- [ ] Sign up at https://uptimerobot.com
- [ ] Create HTTP(s) monitor
- [ ] Set URL to your Render app
- [ ] Set interval to 10 minutes
- [ ] This prevents app from sleeping

## Security Hardening

- [ ] Verify HTTPS is enabled (Render does this automatically)
- [ ] Confirm strong password is set
- [ ] Never share password in plain text
- [ ] Review Render logs for any errors
- [ ] Test from multiple devices
- [ ] Confirm session timeout works

## Ongoing Maintenance

- [ ] Check Render logs weekly for errors
- [ ] Monitor token refresh success rate
- [ ] Update member list as needed
- [ ] Review blacklist periodically
- [ ] Keep dependencies updated monthly

## Troubleshooting

If anything fails:

1. **Check Render Logs**
   - Go to dashboard
   - Click your service
   - Click "Logs" tab

2. **Common Issues**
   - Build fails â†’ Check `requirements.txt`
   - Token refresh fails â†’ Verify Chrome installed in build logs
   - Can't login â†’ Check `DASHBOARD_PASSWORD` env var
   - Gates won't open â†’ Check `AUTH_KEY` is set

3. **Getting Help**
   - Review README.md
   - Check DEPLOYMENT_GUIDE.md
   - Review Render documentation
   - Check Flask-SocketIO docs if WebSocket issues

## Success Criteria

Your deployment is successful when:

âœ… App loads at Render URL
âœ… Login works with password
âœ… Token shows as valid
âœ… Can manually open gates
âœ… Auto-monitoring starts without errors
âœ… Real-time updates work (Socket.IO connected)
âœ… Member management works
âœ… All tabs load properly

## Post-Deployment

- [ ] Document your Render URL
- [ ] Share access with authorized personnel
- [ ] Train users on interface
- [ ] Set up monitoring alerts (optional)
- [ ] Create backup procedure for members.json

## Rollback Plan

If something goes wrong:

1. Go to Render dashboard
2. Click "Manual Deploy"
3. Select previous working commit
4. Or: fix locally and push new commit

---

**Ready to deploy?** Start with Pre-Deployment section! ðŸš€
